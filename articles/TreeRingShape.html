<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TreeRingShape • TreeRingShape</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="TreeRingShape">
<meta property="og:description" content="TreeRingShape">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TreeRingShape</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/TreeRingShape.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ishidamgm/TreeRingShape/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>TreeRingShape</h1>
                        <h4 data-toc-skip class="author">Megumi
ISHIDA</h4>
            
            <h4 data-toc-skip class="date">2024-04-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ishidamgm/TreeRingShape/blob/HEAD/vignettes/TreeRingShape.Rmd" class="external-link"><code>vignettes/TreeRingShape.Rmd</code></a></small>
      <div class="hidden name"><code>TreeRingShape.Rmd</code></div>

    </div>

    
    
<p><link rel="icon" href="../docs/favicon.png"></p>
<p>This package is designed for efficiently recording the shape of all
annual rings in a tree trunk cross-section. It <strong>interpolates the
annual rings (L2)</strong> between <strong>representative annual ring
lines (L)</strong> from the <strong>annual ring points (P)</strong> and
<strong>representative annual ring lines</strong> inputted on radii
measured in GIS software (‘Qgis’). A <strong>“representative annual
ring”</strong> refers to the annual rings that characterize the shape of
the outer circumference and the cross-section of the disc, requiring
fewer rings the closer their shape is to a perfect circle. Although
annual rings grow concentrically around the pith, their shape is not
perfectly circular. Traditionally, dendrochronology and tree-ring
analysis have evaluated tree growth based on the width of the annual
rings. However, with the advancement of image analysis technologies,
there has been an increasing number of studies evaluating growth based
on the area of the annual rings. Most of these studies have focused on
conifer plantation samples, where the annual rings are clearly defined.
However, this package also enables the recording of annual ring shapes
in trees from natural forests, where the ring shapes are more complex.
It should be noted, however, that currently, information regarding the
shape of the annual rings needs to be manually inputted, which can be
labor-intensive.</p>
<div class="float">
<img src="Qgis2R.jpg" alt="‘Qgis’&gt;&gt;&gt;‘R’"><div class="figcaption">‘Qgis’&gt;&gt;&gt;‘R’</div>
</div>
<div class="section level4">
<h4 id="execute">Execute<a class="anchor" aria-label="anchor" href="#execute"></a>
</h4>
<p>The TreeRingShape() function establishes the S4 class
classTreeRingShape and executes the interpolation of annual rings to
complete the annual ring shape data.</p>
</div>
<div class="section level4">
<h4 id="table-1--classtreeringshape-tr---treeringshape">Table 1. classTreeRingShape : TR &lt;- TreeRingShape()<a class="anchor" aria-label="anchor" href="#table-1--classtreeringshape-tr---treeringshape"></a>
</h4>
<table class="table">
<colgroup>
<col width="25%">
<col width="43%">
<col width="31%">
</colgroup>
<thead><tr class="header">
<th align="left">Slot</th>
<th align="left">R</th>
<th align="left">Qgis</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><strong><em>Input</em></strong></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><strong>P</strong></td>
<td align="left"><strong>data frame of Tree Ring Points</strong></td>
<td align="left">Points shape, field(id,ring)</td>
</tr>
<tr class="odd">
<td align="left">P_filename</td>
<td align="left">shape file name of tree ring points</td>
<td align="left">*.shp</td>
</tr>
<tr class="even">
<td align="left">P_id.tag</td>
<td align="left">column name of id in shape file (P)</td>
<td align="left">default ‘id’</td>
</tr>
<tr class="odd">
<td align="left">P_ring.tag</td>
<td align="left">column name of ring no.(ordinaly year,outermost=0)</td>
<td align="left">default ‘ring’</td>
</tr>
<tr class="even">
<td align="left"><strong>L</strong></td>
<td align="left"><strong>list of Representative Tree Ring
Lines</strong></td>
<td align="left">Lines shape, field(ring)</td>
</tr>
<tr class="odd">
<td align="left">L_filename</td>
<td align="left">shape file name for representative tree ring lines
(L)</td>
<td align="left">*.shp</td>
</tr>
<tr class="even">
<td align="left">L_ring.tag</td>
<td align="left">column name of ring no.(ordinaly year,outermost=0) in
shape file (L)</td>
<td align="left">default ‘ring’</td>
</tr>
<tr class="odd">
<td align="left"><strong><em>Append</em></strong></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"><strong>L2</strong></td>
<td align="left"><strong>list of All Tree Ring Lines including
interpolated lines</strong></td>
<td align="left">Lines shape, field(ring)</td>
</tr>
<tr class="odd">
<td align="left">L2_filename</td>
<td align="left">file name of shape file (L2) for tree ring lines
interpolated</td>
<td align="left">*.shp</td>
</tr>
<tr class="even">
<td align="left"><strong>etc.</strong></td>
<td align="left">see <strong>classTreeRingShape</strong> for
details</td>
<td align="left"></td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="procedures">Procedures<a class="anchor" aria-label="anchor" href="#procedures"></a>
</h2>
<div class="section level3">
<h3 id="i--processing-the-disc">I. Processing the Disc<a class="anchor" aria-label="anchor" href="#i--processing-the-disc"></a>
</h3>
<ol style="list-style-type: decimal">
<li><p>Harvest the tree disc, avoiding areas with branches, rot, or
cracks as much as possible.</p></li>
<li><p>Polish the disc until the annual rings are clearly
visible.</p></li>
<li><p>Draw lines from the pith in generally eight directions with a
pencil. These lines are referred to as radii measurement lines.</p></li>
<li><p>Starting from the cambium layer (the outermost layer of wood
touching the bark) as zero, count the annual rings towards the inside
and mark them.</p></li>
<li><p>Ensure that the number of annual rings matches across all radii
measurement lines.</p></li>
<li><p>Trace the lines of representative annual rings with a pencil.
This improves work efficiency, especially in areas where there are many
rings or the rings are unclear.</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="ii--scanning-the-entire-disc-image">II. Scanning the Entire Disc Image<a class="anchor" aria-label="anchor" href="#ii--scanning-the-entire-disc-image"></a>
</h3>
<ul>
<li>Scan the entire disc image at 1200 dpi or higher using a flatbed
scanner or a high-resolution digital camera capable of geometric
correction.</li>
</ul>
</div>
<div class="section level3">
<h3 id="iii--inputting-annual-ring-coordinates-using-qgis">III. Inputting Annual Ring Coordinates Using Qgis<a class="anchor" aria-label="anchor" href="#iii--inputting-annual-ring-coordinates-using-qgis"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<p>Project Properties</p>
<p>Set the project’s CRS to ‘none’. Leave the default CRS
blank.</p>
</li>
<li>
<p>Adding Layers</p>
<ol style="list-style-type: decimal">
<li>Import the annual rings raster image (TreeRing***.tif).</li>
<li>Create a new shapefile layer for annual ring points
(TreeRingPoints***.shp) with integer attributes for id and ring.</li>
<li>Create a new shapefile layer for annual ring lines
(TreeRingLines***.shp) with an integer attribute for ring.</li>
</ol>
</li>
<li>
<p>Manually Inputting Annual Ring Coordinates</p>
<ol style="list-style-type: decimal">
<li>Annual Ring Points ** id ** is the number of the radii measurement
line or the correction point group number, and ring is typically the
count of the annual rings from the cambium layer inward. Mark all annual
rings along the radii measurement lines. After completing the annual
ring interpolation, if there is any discrepancy in the rings, add
correction points where the rings must pass.</li>
<li>Representative Annual Ring Lines Input the coordinates while tracing
the lines of annual rings that characterize the shape of the outer
circumference and the disc. The count starts from the cambium layer as
zero and goes inward.</li>
</ol>
</li>
</ol>
</div>
<div class="section level3">
<h3 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h3>
<p><a href="https://www.sanchikanri.com/treering/TreeRingShape.html" class="external-link uri">https://www.sanchikanri.com/treering/TreeRingShape.html</a></p>
</div>
<div class="section level3">
<h3 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h3>
<p>Pebesma, E., &amp; Bivand, R. (2023). Spatial Data Science: With
Applications in R. Chapman and Hall/CRC.</p>
<p>QGIS Development Team. (2024). QGIS Geographic Information System.
QGIS Association. <a href="https://www.qgis.org/en/site/" class="external-link uri">https://www.qgis.org/en/site/</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Megumi Ishida.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
